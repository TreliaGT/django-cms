<!-- templates/partials/sidebar.html -->

<!-- Alpine.js for dropdown toggle -->
<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>

<aside class="w-64 bg-white shadow-md h-screen px-4 py-6 space-y-4">
    <h2 class="text-lg font-bold text-gray-800">Admin Menu</h2>
    <nav class="w-6 space-y-2 text-gray-700 min-h-screen">
        <ul class="space-y-2">
            <!-- Dashboard -->
            <li>
                <a href="{% url 'adminapp:dashboard' %}"
                    class="block py-2 rounded hover:bg-purple-100 hover:text-purple-700 transition">Dashboard</a>
            </li>
            {% if pages_installed %}
            <!-- Pages with Dropdown -->
            <li x-data="{ open: false }">
                <button @click="open = !open"
                    class="w-full flex items-center justify-between py-2 rounded hover:bg-purple-100 hover:text-purple-700 transition">
                    <span> Content</span>
                    <svg :class="{ 'rotate-180': open }" class="w-4 h-4 transform transition-transform" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <ul x-show="open" x-transition class="mt-1 ml-4 space-y-1 pl-2 border-l border-purple-300">

                    <li>
                        <a href="{% url 'pages:page_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Pages</a>
                    </li>
                    <li>
                        <a href="{% url 'pages:posttype_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Post Type</a>
                    </li>
                    <li>
                        <a href="{% url 'pages:media_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Media</a>
                    </li>
                    <li>
                        <a href="{% url 'pages:navigation_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Navgation</a>
                    </li>
                </ul>
            </li>
            {% endif %}
            <!-- Admin with Dropdown -->
            <li x-data="{ open: false }">
                <button @click="open = !open"
                    class="w-full flex items-center justify-between py-2 rounded hover:bg-purple-100 hover:text-purple-700 transition">
                    <span>Admin</span>
                    <svg :class="{ 'rotate-180': open }" class="w-4 h-4 transform transition-transform" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <ul x-show="open" x-transition class="mt-1 ml-4 space-y-1 pl-2 border-l border-purple-300">
                    <li>
                        <a href="{% url 'adminapp:user_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Users</a>
                    </li>
                    <li>
                        <a href="{% url 'adminapp:source_list' %}"
                            class="block px-3 py-2 rounded hover:bg-purple-100 hover:text-purple-700">Sources</a>
                    </li>
                </ul>
            </li>

            <!-- Logout -->
            <li>
                <a href="{% url 'logout' %}" class="block py-3 text-red-600 rounded hover:underline">Logout</a>
            </li>
        </ul>
    </nav>
</aside>